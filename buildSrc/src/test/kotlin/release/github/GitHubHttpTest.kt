/*
 * Copyright 2024 Mark Slater
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
 *
 * 	http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */

package release.github

import com.sun.net.httpserver.HttpExchange
import com.sun.net.httpserver.HttpsConfigurator
import com.sun.net.httpserver.HttpsServer
import io.kotest.matchers.collections.shouldContainExactly
import io.kotest.matchers.shouldBe
import io.kotest.matchers.types.shouldBeInstanceOf
import net.sourceforge.urin.Authority.authority
import net.sourceforge.urin.Host.LOCAL_HOST
import net.sourceforge.urin.Path.path
import net.sourceforge.urin.Port.port
import net.sourceforge.urin.scheme.http.Https.https
import org.junit.jupiter.api.Test
import release.VersionNumber
import release.github.GitHub.ReleaseVersionOutcome
import release.github.GitHubHttp.AuditEvent.RequestCompleted
import release.github.GitHubHttp.GitHubApiAuthority
import release.pki.PkiTestingFactories.Companion.aPublicKeyInfrastructure
import java.net.InetSocketAddress
import java.nio.charset.StandardCharsets.UTF_8
import java.security.SecureRandom
import javax.net.ssl.SSLContext

class GitHubHttpTest {
    @Test
    fun `can get latest release version`() {
        val publicKeyInfrastructure = aPublicKeyInfrastructure()
        @Suppress("SpellCheckingInspection")
        val responseBody =
            """[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152871162","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152871162/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/152871162/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.82","id":152871162,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JHKD6","tag_name":"1.82","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-25T19:15:30Z","published_at":"2024-04-25T19:17:40Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/164247312","id":164247312,"node_id":"RA_kwDOLuWgG84JyjcQ","name":"svg2ico-1.82.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":4,"created_at":"2024-04-25T19:17:41Z","updated_at":"2024-04-25T19:17:42Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.82/svg2ico-1.82.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.82","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.82","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152870166","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152870166/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/152870166/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.81","id":152870166,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JHJ0W","tag_name":"1.81","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-25T19:06:52Z","published_at":"2024-04-25T19:10:31Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/164246343","id":164246343,"node_id":"RA_kwDOLuWgG84JyjNH","name":"svg2ico-1.81.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":1,"created_at":"2024-04-25T19:10:31Z","updated_at":"2024-04-25T19:10:33Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.81/svg2ico-1.81.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.81","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.81","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152790151","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152790151/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/152790151/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.80","id":152790151,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JG2SH","tag_name":"1.80","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-25T11:51:51Z","published_at":"2024-04-25T11:55:30Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/164175561","id":164175561,"node_id":"RA_kwDOLuWgG84JyR7J","name":"svg2ico-1.80.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-25T11:55:31Z","updated_at":"2024-04-25T11:55:32Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.80/svg2ico-1.80.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.80","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.80","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152772734","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152772734/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/152772734/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.79","id":152772734,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JGyB-","tag_name":"1.79","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-25T10:06:02Z","published_at":"2024-04-25T10:11:26Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/164158826","id":164158826,"node_id":"RA_kwDOLuWgG84JyN1q","name":"svg2ico-1.79.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-25T10:11:27Z","updated_at":"2024-04-25T10:11:28Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.79/svg2ico-1.79.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.79","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.79","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152472312","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152472312/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/152472312/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.78","id":152472312,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JFor4","tag_name":"1.78","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-23T19:51:17Z","published_at":"2024-04-23T19:55:28Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/163822040","id":163822040,"node_id":"RA_kwDOLuWgG84Jw7nY","name":"svg2ico-1.78.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-23T19:55:28Z","updated_at":"2024-04-23T19:55:29Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.78/svg2ico-1.78.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.78","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.78","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152433158","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152433158/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/152433158/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.77","id":152433158,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JFfIG","tag_name":"1.77","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-23T15:42:18Z","published_at":"2024-04-23T15:47:15Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/163784575","id":163784575,"node_id":"RA_kwDOLuWgG84Jwyd_","name":"svg2ico-1.77.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-23T15:47:16Z","updated_at":"2024-04-23T15:47:16Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.77/svg2ico-1.77.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.77","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.77","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152423092","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152423092/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/152423092/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.76","id":152423092,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JFcq0","tag_name":"1.76","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-23T14:53:01Z","published_at":"2024-04-23T14:58:00Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/163776616","id":163776616,"node_id":"RA_kwDOLuWgG84Jwwho","name":"svg2ico-1.76.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-23T14:58:01Z","updated_at":"2024-04-23T14:58:02Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.76/svg2ico-1.76.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.76","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.76","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152169531","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152169531/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/152169531/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.75","id":152169531,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JEew7","tag_name":"1.75","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-22T10:15:28Z","published_at":"2024-04-22T10:17:37Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/163528896","id":163528896,"node_id":"RA_kwDOLuWgG84Jv0DA","name":"svg2ico-1.75.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-22T10:17:37Z","updated_at":"2024-04-22T10:17:38Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.75/svg2ico-1.75.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.75","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.75","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152150122","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/152150122/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/152150122/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.74","id":152150122,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JEaBq","tag_name":"1.74","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-22T08:17:58Z","published_at":"2024-04-22T08:25:00Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/163511242","id":163511242,"node_id":"RA_kwDOLuWgG84JvvvK","name":"svg2ico-1.74.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-22T08:25:01Z","updated_at":"2024-04-22T08:25:02Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.74/svg2ico-1.74.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.74","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.74","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151915249","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151915249/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/151915249/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.73","id":151915249,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JDgrx","tag_name":"1.73","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-19T11:16:31Z","published_at":"2024-04-19T11:24:26Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/163054201","id":163054201,"node_id":"RA_kwDOLuWgG84JuAJ5","name":"svg2ico-1.73.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-19T11:24:27Z","updated_at":"2024-04-19T11:24:28Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.73/svg2ico-1.73.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.73","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.73","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151914713","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151914713/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/151914713/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.72","id":151914713,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JDgjZ","tag_name":"1.72","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-19T11:16:31Z","published_at":"2024-04-19T11:20:08Z","assets":[],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.72","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.72","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151718850","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151718850/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/151718850/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.71","id":151718850,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JCwvC","tag_name":"1.71","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-18T09:40:58Z","published_at":"2024-04-18T11:03:05Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/162843368","id":162843368,"node_id":"RA_kwDOLuWgG84JtMro","name":"svg2ico-1.71.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-18T11:03:05Z","updated_at":"2024-04-18T11:03:07Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.71/svg2ico-1.71.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.71","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.71","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151637269","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151637269/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/151637269/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.70","id":151637269,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JCc0V","tag_name":"1.70","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-17T21:11:41Z","published_at":"2024-04-17T21:14:28Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/162721518","id":162721518,"node_id":"RA_kwDOLuWgG84Jsu7u","name":"svg2ico-1.70.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-17T21:14:29Z","updated_at":"2024-04-17T21:14:30Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.70/svg2ico-1.70.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.70","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.70","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151381812","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151381812/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/151381812/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.69","id":151381812,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JBec0","tag_name":"1.69","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-16T14:10:29Z","published_at":"2024-04-16T14:25:47Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/162420081","id":162420081,"node_id":"RA_kwDOLuWgG84JrlVx","name":"svg2ico-1.69.jar","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":1,"created_at":"2024-04-16T14:25:48Z","updated_at":"2024-04-16T14:25:49Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.69/svg2ico-1.69.jar"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.69","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.69","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151190271","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151190271/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/151190271/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.68","id":151190271,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JAvr_","tag_name":"1.68","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-15T14:19:07Z","published_at":"2024-04-15T14:21:52Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/162209732","id":162209732,"node_id":"RA_kwDOLuWgG84Jqx_E","name":"svg2ico-1.68","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":1,"created_at":"2024-04-15T14:21:52Z","updated_at":"2024-04-15T14:21:54Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.68/svg2ico-1.68"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.68","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.68","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151188778","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151188778/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/151188778/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.67","id":151188778,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JAvUq","tag_name":"1.67","target_commitish":"master","name":null,"draft":false,"prerelease":false,"created_at":"2024-04-15T14:10:29Z","published_at":"2024-04-15T14:14:14Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/162209167","id":162209167,"node_id":"RA_kwDOLuWgG84Jqx2P","name":"svg2ico-1.67","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-15T14:17:31Z","updated_at":"2024-04-15T14:17:32Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.67/svg2ico-1.67"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.67","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.67","body":null},{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151180109","assets_url":"https://api.github.com/repos/svg2ico/svg2ico/releases/151180109/assets","upload_url":"https://uploads.github.com/repos/svg2ico/svg2ico/releases/151180109/assets{?name,label}","html_url":"https://github.com/svg2ico/svg2ico/releases/tag/1.66","id":151180109,"author":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOLuWgG84JAtNN","tag_name":"1.66","target_commitish":"master","name":"","draft":false,"prerelease":false,"created_at":"2024-04-15T12:16:27Z","published_at":"2024-04-15T13:35:26Z","assets":[{"url":"https://api.github.com/repos/svg2ico/svg2ico/releases/assets/162206977","id":162206977,"node_id":"RA_kwDOLuWgG84JqxUB","name":"svg2ico-1.66","label":"Jar","uploader":{"login":"markslater","id":642523,"node_id":"MDQ6VXNlcjY0MjUyMw==","avatar_url":"https://avatars.githubusercontent.com/u/642523?v=4","gravatar_id":"","url":"https://api.github.com/users/markslater","html_url":"https://github.com/markslater","followers_url":"https://api.github.com/users/markslater/followers","following_url":"https://api.github.com/users/markslater/following{/other_user}","gists_url":"https://api.github.com/users/markslater/gists{/gist_id}","starred_url":"https://api.github.com/users/markslater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markslater/subscriptions","organizations_url":"https://api.github.com/users/markslater/orgs","repos_url":"https://api.github.com/users/markslater/repos","events_url":"https://api.github.com/users/markslater/events{/privacy}","received_events_url":"https://api.github.com/users/markslater/received_events","type":"User","site_admin":false},"content_type":"application/java-archive","state":"uploaded","size":7275600,"download_count":0,"created_at":"2024-04-15T14:05:10Z","updated_at":"2024-04-15T14:05:11Z","browser_download_url":"https://github.com/svg2ico/svg2ico/releases/download/1.66/svg2ico-1.66"}],"tarball_url":"https://api.github.com/repos/svg2ico/svg2ico/tarball/1.66","zipball_url":"https://api.github.com/repos/svg2ico/svg2ico/zipball/1.66","body":""}]"""
        val httpsServer = HttpsServer.create(InetSocketAddress(0), 0).apply {
            httpsConfigurator = HttpsConfigurator(SSLContext.getInstance("TLS").apply {
                init(publicKeyInfrastructure.keyManagers.toTypedArray(), null, SecureRandom())
            })
            createContext("/repos/svg2ico/svg2ico/releases") { exchange: HttpExchange ->
                exchange.sendResponseHeaders(200, 0) // TODO maybe need to specify length with shorter response
                exchange.responseBody.use {
                    it.write(
                        responseBody.toByteArray(
                            UTF_8
                        )
                    )
                }
            }
            start()
        }
        val authority = authority(LOCAL_HOST, port(httpsServer.address.port))
        val recordingAuditor = RecordingAuditor<GitHubHttp.AuditEvent>()
        val releaseVersionOutcome = try {
            GitHubHttp(
                GitHubApiAuthority(authority),
                publicKeyInfrastructure.releaseTrustStore,
                recordingAuditor
            ).latestReleaseVersion()
        } finally {
            httpsServer.stop(0)
        }
        releaseVersionOutcome.shouldBeInstanceOf<ReleaseVersionOutcome.Success>().versionNumber shouldBe VersionNumber.ReleaseVersion.of(1, 82)
        recordingAuditor.auditEvents() shouldContainExactly listOf(
            RequestCompleted(https(authority, path("repos", "svg2ico", "svg2ico", "releases")).asUri(), 200, responseBody)
        )
    }

}